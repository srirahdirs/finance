{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\loan-management-system\\\\frontend\\\\src\\\\components\\\\InterestCollection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport dataRefreshManager from '../utils/dataRefresh';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InterestCollection = ({\n  loan,\n  onClose,\n  onSuccess\n}) => {\n  _s();\n  var _loan$client2;\n  const [formData, setFormData] = useState({\n    collectionDate: new Date().toISOString().split('T')[0],\n    collectedAmount: (loan === null || loan === void 0 ? void 0 : loan.monthlyInterest) || 0,\n    paymentMethod: 'cash',\n    notes: ''\n  });\n  const [calculations, setCalculations] = useState({\n    monthlyInterest: 0,\n    collectedAmount: 0,\n    pendingAmount: 0,\n    totalCollected: 0,\n    monthsCollected: 0,\n    monthsPending: 0\n  });\n  useEffect(() => {\n    calculateInterestDetails();\n  }, [loan, formData.collectedAmount]);\n  const calculateInterestDetails = () => {\n    const monthlyInterest = (loan === null || loan === void 0 ? void 0 : loan.monthlyInterest) || 0;\n    const collectedAmount = parseFloat(formData.collectedAmount) || 0;\n    const previouslyCollected = (loan === null || loan === void 0 ? void 0 : loan.totalCollected) || 0;\n\n    // Calculate current month pending (before this collection)\n    const currentMonthCollected = previouslyCollected % monthlyInterest;\n    const currentMonthPending = monthlyInterest - currentMonthCollected;\n\n    // Calculate how this collection affects the pending amount\n    let remainingPending = 0;\n    let extraAmount = 0;\n    if (collectedAmount <= currentMonthPending) {\n      // Collection covers part or all of current month pending\n      remainingPending = currentMonthPending - collectedAmount;\n    } else {\n      // Collection exceeds current month pending\n      extraAmount = collectedAmount - currentMonthPending;\n      remainingPending = 0;\n    }\n    const totalCollected = previouslyCollected + collectedAmount;\n    const monthsCollected = Math.floor(totalCollected / monthlyInterest);\n    setCalculations({\n      monthlyInterest: monthlyInterest || 0,\n      collectedAmount: collectedAmount || 0,\n      pendingAmount: remainingPending || 0,\n      extraAmount: extraAmount || 0,\n      totalCollected: totalCollected || 0,\n      monthsCollected: monthsCollected || 0,\n      currentMonthPending: currentMonthPending || 0\n    });\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (formData.collectedAmount <= 0) {\n      alert('Please enter a valid collection amount');\n      return;\n    }\n    try {\n      const response = await fetch(`http://localhost:5000/api/loans/${loan._id}/collect-interest`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          paymentMethod: formData.paymentMethod,\n          collectedAmount: formData.collectedAmount,\n          collectionDate: formData.collectionDate,\n          notes: formData.notes\n        })\n      });\n      if (response.ok) {\n        showSuccessPopup();\n        // Trigger global refresh to update all components\n        dataRefreshManager.refreshAll();\n        onSuccess();\n        onClose();\n      }\n    } catch (error) {\n      console.error('Error collecting interest:', error);\n      showErrorPopup('Error collecting interest. Please try again.');\n    }\n  };\n  const showSuccessPopup = () => {\n    var _loan$client;\n    const popup = document.createElement('div');\n    popup.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50';\n    popup.innerHTML = `\n      <div class=\"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full text-center\">\n        <div class=\"text-6xl mb-4\">‚úÖ</div>\n        <h3 class=\"text-xl font-bold text-gray-900 mb-2\">Interest Collected Successfully!</h3>\n        <p class=\"text-gray-600 mb-4\">‚Çπ${formData.collectedAmount.toLocaleString()} collected from ${(_loan$client = loan.client) === null || _loan$client === void 0 ? void 0 : _loan$client.name}</p>\n        <button onclick=\"this.parentElement.parentElement.remove()\" class=\"btn btn-primary w-full\">\n          Continue\n        </button>\n      </div>\n    `;\n    document.body.appendChild(popup);\n  };\n  const showErrorPopup = message => {\n    const popup = document.createElement('div');\n    popup.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50';\n    popup.innerHTML = `\n      <div class=\"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full text-center\">\n        <div class=\"text-6xl mb-4\">‚ùå</div>\n        <h3 class=\"text-xl font-bold text-gray-900 mb-2\">Error!</h3>\n        <p class=\"text-gray-600 mb-4\">${message}</p>\n        <button onclick=\"this.parentElement.parentElement.remove()\" class=\"btn btn-danger w-full\">\n          Close\n        </button>\n      </div>\n    `;\n    document.body.appendChild(popup);\n  };\n  if (!loan) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-900\",\n              children: \"Collect Interest\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-1\",\n              children: [\"Client: \", (_loan$client2 = loan.client) === null || _loan$client2 === void 0 ? void 0 : _loan$client2.name, \" | Monthly Interest: \\u20B9\", loan.monthlyInterest.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600 text-2xl\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900 mb-3\",\n              children: \"Interest Collection Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Monthly Interest:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: [\"\\u20B9\", loan.monthlyInterest.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Previously Collected:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold text-green-600\",\n                  children: [\"\\u20B9\", loan.totalCollected.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Monthly Pending:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold text-orange-600\",\n                  children: [\"\\u20B9\", (loan.monthlyInterest - loan.totalCollected % loan.monthlyInterest).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Months Collected:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: Math.floor(loan.totalCollected / loan.monthlyInterest)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Original Loan:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: [\"\\u20B9\", loan.loanAmount.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Collection Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"collectionDate\",\n                value: formData.collectionDate,\n                onChange: handleInputChange,\n                className: \"form-input\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Amount Collected (\\u20B9)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"collectedAmount\",\n                value: formData.collectedAmount,\n                onChange: handleInputChange,\n                className: \"form-input\",\n                placeholder: loan.monthlyInterest,\n                min: \"0\",\n                step: \"0.01\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1\",\n                children: [\"Monthly interest: \\u20B9\", loan.monthlyInterest.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"paymentMethod\",\n              value: formData.paymentMethod,\n              onChange: handleInputChange,\n              className: \"form-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cash\",\n                children: \"\\uD83D\\uDCB5 Cash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"bank_transfer\",\n                children: \"\\uD83C\\uDFE6 Bank Transfer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cheque\",\n                children: \"\\uD83D\\uDCC4 Cheque\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Notes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"notes\",\n              value: formData.notes,\n              onChange: handleInputChange,\n              className: \"form-textarea\",\n              rows: \"3\",\n              placeholder: \"Additional notes about this collection...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 p-4 rounded-lg border border-blue-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-blue-900 mb-3\",\n              children: \"Collection Calculation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Monthly Interest Due:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: [\"\\u20B9\", (calculations.monthlyInterest || 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Amount Collected:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-green-600\",\n                  children: [\"\\u20B9\", (calculations.collectedAmount || 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Current Month Pending:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-orange-600\",\n                  children: [\"\\u20B9\", (calculations.currentMonthPending || 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 33\n              }, this), (calculations.pendingAmount || 0) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Remaining Pending:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-red-600\",\n                  children: [\"\\u20B9\", (calculations.pendingAmount || 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 37\n              }, this), (calculations.extraAmount || 0) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Extra Amount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-blue-600\",\n                  children: [\"\\u20B9\", (calculations.extraAmount || 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"border-blue-200\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total Collected After This:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-blue-900\",\n                  children: [\"\\u20B9\", (calculations.totalCollected || 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total Months Collected:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-blue-900\",\n                  children: calculations.monthsCollected || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), (calculations.pendingAmount || 0) === 0 && (calculations.extraAmount || 0) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 p-3 rounded-lg border border-green-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-green-600 text-lg mr-2\",\n                children: \"\\u2705\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-green-800 text-sm font-medium\",\n                children: \"Full monthly interest collected. No pending amount.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 29\n          }, this), (calculations.pendingAmount || 0) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-orange-50 p-3 rounded-lg border border-orange-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-orange-600 text-lg mr-2\",\n                children: \"\\u26A0\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-orange-800 text-sm font-medium\",\n                children: [\"\\u20B9\", (calculations.pendingAmount || 0).toLocaleString(), \" still pending for this month.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3 pt-4 border-t border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline\",\n              onClick: onClose,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success\",\n              children: [\"\\uD83D\\uDCB0 Collect Interest (\\u20B9\", formData.collectedAmount.toLocaleString(), \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 9\n  }, this);\n};\n_s(InterestCollection, \"chItnmEB0ybXmyUCEPvIUiKUN3g=\");\n_c = InterestCollection;\nexport default InterestCollection;\nvar _c;\n$RefreshReg$(_c, \"InterestCollection\");","map":{"version":3,"names":["React","useState","useEffect","dataRefreshManager","jsxDEV","_jsxDEV","InterestCollection","loan","onClose","onSuccess","_s","_loan$client2","formData","setFormData","collectionDate","Date","toISOString","split","collectedAmount","monthlyInterest","paymentMethod","notes","calculations","setCalculations","pendingAmount","totalCollected","monthsCollected","monthsPending","calculateInterestDetails","parseFloat","previouslyCollected","currentMonthCollected","currentMonthPending","remainingPending","extraAmount","Math","floor","handleInputChange","e","name","value","target","prev","handleSubmit","preventDefault","alert","response","fetch","_id","method","headers","body","JSON","stringify","ok","showSuccessPopup","refreshAll","error","console","showErrorPopup","_loan$client","popup","document","createElement","className","innerHTML","toLocaleString","client","appendChild","message","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","loanAmount","type","onChange","required","placeholder","min","step","rows","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/loan-management-system/frontend/src/components/InterestCollection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport dataRefreshManager from '../utils/dataRefresh';\r\n\r\nconst InterestCollection = ({ loan, onClose, onSuccess }) => {\r\n    const [formData, setFormData] = useState({\r\n        collectionDate: new Date().toISOString().split('T')[0],\r\n        collectedAmount: loan?.monthlyInterest || 0,\r\n        paymentMethod: 'cash',\r\n        notes: ''\r\n    });\r\n\r\n    const [calculations, setCalculations] = useState({\r\n        monthlyInterest: 0,\r\n        collectedAmount: 0,\r\n        pendingAmount: 0,\r\n        totalCollected: 0,\r\n        monthsCollected: 0,\r\n        monthsPending: 0\r\n    });\r\n\r\n    useEffect(() => {\r\n        calculateInterestDetails();\r\n    }, [loan, formData.collectedAmount]);\r\n\r\n    const calculateInterestDetails = () => {\r\n        const monthlyInterest = loan?.monthlyInterest || 0;\r\n        const collectedAmount = parseFloat(formData.collectedAmount) || 0;\r\n        const previouslyCollected = loan?.totalCollected || 0;\r\n\r\n        // Calculate current month pending (before this collection)\r\n        const currentMonthCollected = previouslyCollected % monthlyInterest;\r\n        const currentMonthPending = monthlyInterest - currentMonthCollected;\r\n\r\n        // Calculate how this collection affects the pending amount\r\n        let remainingPending = 0;\r\n        let extraAmount = 0;\r\n\r\n        if (collectedAmount <= currentMonthPending) {\r\n            // Collection covers part or all of current month pending\r\n            remainingPending = currentMonthPending - collectedAmount;\r\n        } else {\r\n            // Collection exceeds current month pending\r\n            extraAmount = collectedAmount - currentMonthPending;\r\n            remainingPending = 0;\r\n        }\r\n\r\n        const totalCollected = previouslyCollected + collectedAmount;\r\n        const monthsCollected = Math.floor(totalCollected / monthlyInterest);\r\n\r\n        setCalculations({\r\n            monthlyInterest: monthlyInterest || 0,\r\n            collectedAmount: collectedAmount || 0,\r\n            pendingAmount: remainingPending || 0,\r\n            extraAmount: extraAmount || 0,\r\n            totalCollected: totalCollected || 0,\r\n            monthsCollected: monthsCollected || 0,\r\n            currentMonthPending: currentMonthPending || 0\r\n        });\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (formData.collectedAmount <= 0) {\r\n            alert('Please enter a valid collection amount');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/api/loans/${loan._id}/collect-interest`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    paymentMethod: formData.paymentMethod,\r\n                    collectedAmount: formData.collectedAmount,\r\n                    collectionDate: formData.collectionDate,\r\n                    notes: formData.notes\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                showSuccessPopup();\r\n                // Trigger global refresh to update all components\r\n                dataRefreshManager.refreshAll();\r\n                onSuccess();\r\n                onClose();\r\n            }\r\n        } catch (error) {\r\n            console.error('Error collecting interest:', error);\r\n            showErrorPopup('Error collecting interest. Please try again.');\r\n        }\r\n    };\r\n\r\n    const showSuccessPopup = () => {\r\n        const popup = document.createElement('div');\r\n        popup.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50';\r\n        popup.innerHTML = `\r\n      <div class=\"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full text-center\">\r\n        <div class=\"text-6xl mb-4\">‚úÖ</div>\r\n        <h3 class=\"text-xl font-bold text-gray-900 mb-2\">Interest Collected Successfully!</h3>\r\n        <p class=\"text-gray-600 mb-4\">‚Çπ${formData.collectedAmount.toLocaleString()} collected from ${loan.client?.name}</p>\r\n        <button onclick=\"this.parentElement.parentElement.remove()\" class=\"btn btn-primary w-full\">\r\n          Continue\r\n        </button>\r\n      </div>\r\n    `;\r\n        document.body.appendChild(popup);\r\n    };\r\n\r\n    const showErrorPopup = (message) => {\r\n        const popup = document.createElement('div');\r\n        popup.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50';\r\n        popup.innerHTML = `\r\n      <div class=\"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full text-center\">\r\n        <div class=\"text-6xl mb-4\">‚ùå</div>\r\n        <h3 class=\"text-xl font-bold text-gray-900 mb-2\">Error!</h3>\r\n        <p class=\"text-gray-600 mb-4\">${message}</p>\r\n        <button onclick=\"this.parentElement.parentElement.remove()\" class=\"btn btn-danger w-full\">\r\n          Close\r\n        </button>\r\n      </div>\r\n    `;\r\n        document.body.appendChild(popup);\r\n    };\r\n\r\n    if (!loan) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n                <div className=\"card-header\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <div>\r\n                            <h2 className=\"text-xl font-bold text-gray-900\">Collect Interest</h2>\r\n                            <p className=\"text-sm text-gray-500 mt-1\">\r\n                                Client: {loan.client?.name} | Monthly Interest: ‚Çπ{loan.monthlyInterest.toLocaleString()}\r\n                            </p>\r\n                        </div>\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"text-gray-400 hover:text-gray-600 text-2xl\"\r\n                        >\r\n                            √ó\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                        {/* Interest Summary */}\r\n                        <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                            <h3 className=\"font-semibold text-gray-900 mb-3\">Interest Collection Summary</h3>\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm\">\r\n                                <div>\r\n                                    <span className=\"text-gray-500\">Monthly Interest:</span>\r\n                                    <div className=\"font-semibold\">‚Çπ{loan.monthlyInterest.toLocaleString()}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-gray-500\">Previously Collected:</span>\r\n                                    <div className=\"font-semibold text-green-600\">‚Çπ{loan.totalCollected.toLocaleString()}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-gray-500\">Monthly Pending:</span>\r\n                                    <div className=\"font-semibold text-orange-600\">‚Çπ{(loan.monthlyInterest - (loan.totalCollected % loan.monthlyInterest)).toLocaleString()}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-gray-500\">Months Collected:</span>\r\n                                    <div className=\"font-semibold\">{Math.floor(loan.totalCollected / loan.monthlyInterest)}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"text-gray-500\">Original Loan:</span>\r\n                                    <div className=\"font-semibold\">‚Çπ{loan.loanAmount.toLocaleString()}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Collection Details */}\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            <div>\r\n                                <label className=\"form-label\">Collection Date</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    name=\"collectionDate\"\r\n                                    value={formData.collectionDate}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"form-input\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"form-label\">Amount Collected (‚Çπ)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    name=\"collectedAmount\"\r\n                                    value={formData.collectedAmount}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"form-input\"\r\n                                    placeholder={loan.monthlyInterest}\r\n                                    min=\"0\"\r\n                                    step=\"0.01\"\r\n                                    required\r\n                                />\r\n                                <p className=\"text-xs text-gray-500 mt-1\">\r\n                                    Monthly interest: ‚Çπ{loan.monthlyInterest.toLocaleString()}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Payment Method */}\r\n                        <div>\r\n                            <label className=\"form-label\">Payment Method</label>\r\n                            <select\r\n                                name=\"paymentMethod\"\r\n                                value={formData.paymentMethod}\r\n                                onChange={handleInputChange}\r\n                                className=\"form-select\"\r\n                            >\r\n                                <option value=\"cash\">üíµ Cash</option>\r\n                                <option value=\"bank_transfer\">üè¶ Bank Transfer</option>\r\n                                <option value=\"cheque\">üìÑ Cheque</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* Notes */}\r\n                        <div>\r\n                            <label className=\"form-label\">Notes</label>\r\n                            <textarea\r\n                                name=\"notes\"\r\n                                value={formData.notes}\r\n                                onChange={handleInputChange}\r\n                                className=\"form-textarea\"\r\n                                rows=\"3\"\r\n                                placeholder=\"Additional notes about this collection...\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Collection Calculation */}\r\n                        <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\r\n                            <h3 className=\"font-semibold text-blue-900 mb-3\">Collection Calculation</h3>\r\n                            <div className=\"space-y-2 text-sm\">\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>Monthly Interest Due:</span>\r\n                                    <span className=\"font-medium\">‚Çπ{(calculations.monthlyInterest || 0).toLocaleString()}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>Amount Collected:</span>\r\n                                    <span className=\"font-medium text-green-600\">‚Çπ{(calculations.collectedAmount || 0).toLocaleString()}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>Current Month Pending:</span>\r\n                                    <span className=\"font-medium text-orange-600\">‚Çπ{(calculations.currentMonthPending || 0).toLocaleString()}</span>\r\n                                </div>\r\n                                {(calculations.pendingAmount || 0) > 0 && (\r\n                                    <div className=\"flex justify-between\">\r\n                                        <span>Remaining Pending:</span>\r\n                                        <span className=\"font-medium text-red-600\">‚Çπ{(calculations.pendingAmount || 0).toLocaleString()}</span>\r\n                                    </div>\r\n                                )}\r\n                                {(calculations.extraAmount || 0) > 0 && (\r\n                                    <div className=\"flex justify-between\">\r\n                                        <span>Extra Amount:</span>\r\n                                        <span className=\"font-medium text-blue-600\">‚Çπ{(calculations.extraAmount || 0).toLocaleString()}</span>\r\n                                    </div>\r\n                                )}\r\n                                <hr className=\"border-blue-200\" />\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>Total Collected After This:</span>\r\n                                    <span className=\"font-medium text-blue-900\">‚Çπ{(calculations.totalCollected || 0).toLocaleString()}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>Total Months Collected:</span>\r\n                                    <span className=\"font-medium text-blue-900\">{calculations.monthsCollected || 0}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Status Messages */}\r\n                        {(calculations.pendingAmount || 0) === 0 && (calculations.extraAmount || 0) === 0 && (\r\n                            <div className=\"bg-green-50 p-3 rounded-lg border border-green-200\">\r\n                                <div className=\"flex items-center\">\r\n                                    <span className=\"text-green-600 text-lg mr-2\">‚úÖ</span>\r\n                                    <span className=\"text-green-800 text-sm font-medium\">\r\n                                        Full monthly interest collected. No pending amount.\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {(calculations.pendingAmount || 0) > 0 && (\r\n                            <div className=\"bg-orange-50 p-3 rounded-lg border border-orange-200\">\r\n                                <div className=\"flex items-center\">\r\n                                    <span className=\"text-orange-600 text-lg mr-2\">‚ö†Ô∏è</span>\r\n                                    <span className=\"text-orange-800 text-sm font-medium\">\r\n                                        ‚Çπ{(calculations.pendingAmount || 0).toLocaleString()} still pending for this month.\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* {(calculations.extraAmount || 0) > 0 && (\r\n                            <div className=\"bg-blue-50 p-3 rounded-lg border border-blue-200\">\r\n                                <div className=\"flex items-center\">\r\n                                    <span className=\"text-blue-600 text-lg mr-2\">‚ÑπÔ∏è</span>\r\n                                    <span className=\"text-blue-800 text-sm font-medium\">\r\n                                        Extra amount collected: ‚Çπ{(calculations.extraAmount || 0).toLocaleString()}. This will be applied to next month's interest.\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        )} */}\r\n\r\n                        {/* Action Buttons */}\r\n                        <div className=\"flex justify-end space-x-3 pt-4 border-t border-gray-200\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-outline\"\r\n                                onClick={onClose}\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"btn btn-success\"\r\n                            >\r\n                                üí∞ Collect Interest (‚Çπ{formData.collectedAmount.toLocaleString()})\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InterestCollection;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,kBAAkB,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,OAAO;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,aAAA;EACzD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC;IACrCa,cAAc,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACtDC,eAAe,EAAE,CAAAX,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEY,eAAe,KAAI,CAAC;IAC3CC,aAAa,EAAE,MAAM;IACrBC,KAAK,EAAE;EACX,CAAC,CAAC;EAEF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC;IAC7CkB,eAAe,EAAE,CAAC;IAClBD,eAAe,EAAE,CAAC;IAClBM,aAAa,EAAE,CAAC;IAChBC,cAAc,EAAE,CAAC;IACjBC,eAAe,EAAE,CAAC;IAClBC,aAAa,EAAE;EACnB,CAAC,CAAC;EAEFzB,SAAS,CAAC,MAAM;IACZ0B,wBAAwB,CAAC,CAAC;EAC9B,CAAC,EAAE,CAACrB,IAAI,EAAEK,QAAQ,CAACM,eAAe,CAAC,CAAC;EAEpC,MAAMU,wBAAwB,GAAGA,CAAA,KAAM;IACnC,MAAMT,eAAe,GAAG,CAAAZ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEY,eAAe,KAAI,CAAC;IAClD,MAAMD,eAAe,GAAGW,UAAU,CAACjB,QAAQ,CAACM,eAAe,CAAC,IAAI,CAAC;IACjE,MAAMY,mBAAmB,GAAG,CAAAvB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEkB,cAAc,KAAI,CAAC;;IAErD;IACA,MAAMM,qBAAqB,GAAGD,mBAAmB,GAAGX,eAAe;IACnE,MAAMa,mBAAmB,GAAGb,eAAe,GAAGY,qBAAqB;;IAEnE;IACA,IAAIE,gBAAgB,GAAG,CAAC;IACxB,IAAIC,WAAW,GAAG,CAAC;IAEnB,IAAIhB,eAAe,IAAIc,mBAAmB,EAAE;MACxC;MACAC,gBAAgB,GAAGD,mBAAmB,GAAGd,eAAe;IAC5D,CAAC,MAAM;MACH;MACAgB,WAAW,GAAGhB,eAAe,GAAGc,mBAAmB;MACnDC,gBAAgB,GAAG,CAAC;IACxB;IAEA,MAAMR,cAAc,GAAGK,mBAAmB,GAAGZ,eAAe;IAC5D,MAAMQ,eAAe,GAAGS,IAAI,CAACC,KAAK,CAACX,cAAc,GAAGN,eAAe,CAAC;IAEpEI,eAAe,CAAC;MACZJ,eAAe,EAAEA,eAAe,IAAI,CAAC;MACrCD,eAAe,EAAEA,eAAe,IAAI,CAAC;MACrCM,aAAa,EAAES,gBAAgB,IAAI,CAAC;MACpCC,WAAW,EAAEA,WAAW,IAAI,CAAC;MAC7BT,cAAc,EAAEA,cAAc,IAAI,CAAC;MACnCC,eAAe,EAAEA,eAAe,IAAI,CAAC;MACrCM,mBAAmB,EAAEA,mBAAmB,IAAI;IAChD,CAAC,CAAC;EACN,CAAC;EAED,MAAMK,iBAAiB,GAAIC,CAAC,IAAK;IAC7B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChC5B,WAAW,CAAC6B,IAAI,KAAK;MACjB,GAAGA,IAAI;MACP,CAACH,IAAI,GAAGC;IACZ,CAAC,CAAC,CAAC;EACP,CAAC;EAED,MAAMG,YAAY,GAAG,MAAOL,CAAC,IAAK;IAC9BA,CAAC,CAACM,cAAc,CAAC,CAAC;IAElB,IAAIhC,QAAQ,CAACM,eAAe,IAAI,CAAC,EAAE;MAC/B2B,KAAK,CAAC,wCAAwC,CAAC;MAC/C;IACJ;IAEA,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCxC,IAAI,CAACyC,GAAG,mBAAmB,EAAE;QACzFC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBjC,aAAa,EAAER,QAAQ,CAACQ,aAAa;UACrCF,eAAe,EAAEN,QAAQ,CAACM,eAAe;UACzCJ,cAAc,EAAEF,QAAQ,CAACE,cAAc;UACvCO,KAAK,EAAET,QAAQ,CAACS;QACpB,CAAC;MACL,CAAC,CAAC;MAEF,IAAIyB,QAAQ,CAACQ,EAAE,EAAE;QACbC,gBAAgB,CAAC,CAAC;QAClB;QACApD,kBAAkB,CAACqD,UAAU,CAAC,CAAC;QAC/B/C,SAAS,CAAC,CAAC;QACXD,OAAO,CAAC,CAAC;MACb;IACJ,CAAC,CAAC,OAAOiD,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDE,cAAc,CAAC,8CAA8C,CAAC;IAClE;EACJ,CAAC;EAED,MAAMJ,gBAAgB,GAAGA,CAAA,KAAM;IAAA,IAAAK,YAAA;IAC3B,MAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC3CF,KAAK,CAACG,SAAS,GAAG,gFAAgF;IAClGH,KAAK,CAACI,SAAS,GAAG;AAC1B;AACA;AACA;AACA,yCAAyCrD,QAAQ,CAACM,eAAe,CAACgD,cAAc,CAAC,CAAC,oBAAAN,YAAA,GAAmBrD,IAAI,CAAC4D,MAAM,cAAAP,YAAA,uBAAXA,YAAA,CAAarB,IAAI;AACtH;AACA;AACA;AACA;AACA,KAAK;IACGuB,QAAQ,CAACX,IAAI,CAACiB,WAAW,CAACP,KAAK,CAAC;EACpC,CAAC;EAED,MAAMF,cAAc,GAAIU,OAAO,IAAK;IAChC,MAAMR,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC3CF,KAAK,CAACG,SAAS,GAAG,gFAAgF;IAClGH,KAAK,CAACI,SAAS,GAAG;AAC1B;AACA;AACA;AACA,wCAAwCI,OAAO;AAC/C;AACA;AACA;AACA;AACA,KAAK;IACGP,QAAQ,CAACX,IAAI,CAACiB,WAAW,CAACP,KAAK,CAAC;EACpC,CAAC;EAED,IAAI,CAACtD,IAAI,EAAE,OAAO,IAAI;EAEtB,oBACIF,OAAA;IAAK2D,SAAS,EAAC,gFAAgF;IAAAM,QAAA,eAC3FjE,OAAA;MAAK2D,SAAS,EAAC,8EAA8E;MAAAM,QAAA,gBACzFjE,OAAA;QAAK2D,SAAS,EAAC,aAAa;QAAAM,QAAA,eACxBjE,OAAA;UAAK2D,SAAS,EAAC,mCAAmC;UAAAM,QAAA,gBAC9CjE,OAAA;YAAAiE,QAAA,gBACIjE,OAAA;cAAI2D,SAAS,EAAC,iCAAiC;cAAAM,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrErE,OAAA;cAAG2D,SAAS,EAAC,4BAA4B;cAAAM,QAAA,GAAC,UAC9B,GAAA3D,aAAA,GAACJ,IAAI,CAAC4D,MAAM,cAAAxD,aAAA,uBAAXA,aAAA,CAAa4B,IAAI,EAAC,6BAAsB,EAAChC,IAAI,CAACY,eAAe,CAAC+C,cAAc,CAAC,CAAC;YAAA;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNrE,OAAA;YACIsE,OAAO,EAAEnE,OAAQ;YACjBwD,SAAS,EAAC,4CAA4C;YAAAM,QAAA,EACzD;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAENrE,OAAA;QAAK2D,SAAS,EAAC,WAAW;QAAAM,QAAA,eACtBjE,OAAA;UAAMuE,QAAQ,EAAEjC,YAAa;UAACqB,SAAS,EAAC,WAAW;UAAAM,QAAA,gBAE/CjE,OAAA;YAAK2D,SAAS,EAAC,2BAA2B;YAAAM,QAAA,gBACtCjE,OAAA;cAAI2D,SAAS,EAAC,kCAAkC;cAAAM,QAAA,EAAC;YAA2B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjFrE,OAAA;cAAK2D,SAAS,EAAC,+CAA+C;cAAAM,QAAA,gBAC1DjE,OAAA;gBAAAiE,QAAA,gBACIjE,OAAA;kBAAM2D,SAAS,EAAC,eAAe;kBAAAM,QAAA,EAAC;gBAAiB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACxDrE,OAAA;kBAAK2D,SAAS,EAAC,eAAe;kBAAAM,QAAA,GAAC,QAAC,EAAC/D,IAAI,CAACY,eAAe,CAAC+C,cAAc,CAAC,CAAC;gBAAA;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5E,CAAC,eACNrE,OAAA;gBAAAiE,QAAA,gBACIjE,OAAA;kBAAM2D,SAAS,EAAC,eAAe;kBAAAM,QAAA,EAAC;gBAAqB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC5DrE,OAAA;kBAAK2D,SAAS,EAAC,8BAA8B;kBAAAM,QAAA,GAAC,QAAC,EAAC/D,IAAI,CAACkB,cAAc,CAACyC,cAAc,CAAC,CAAC;gBAAA;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1F,CAAC,eACNrE,OAAA;gBAAAiE,QAAA,gBACIjE,OAAA;kBAAM2D,SAAS,EAAC,eAAe;kBAAAM,QAAA,EAAC;gBAAgB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACvDrE,OAAA;kBAAK2D,SAAS,EAAC,+BAA+B;kBAAAM,QAAA,GAAC,QAAC,EAAC,CAAC/D,IAAI,CAACY,eAAe,GAAIZ,IAAI,CAACkB,cAAc,GAAGlB,IAAI,CAACY,eAAgB,EAAE+C,cAAc,CAAC,CAAC;gBAAA;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7I,CAAC,eACNrE,OAAA;gBAAAiE,QAAA,gBACIjE,OAAA;kBAAM2D,SAAS,EAAC,eAAe;kBAAAM,QAAA,EAAC;gBAAiB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACxDrE,OAAA;kBAAK2D,SAAS,EAAC,eAAe;kBAAAM,QAAA,EAAEnC,IAAI,CAACC,KAAK,CAAC7B,IAAI,CAACkB,cAAc,GAAGlB,IAAI,CAACY,eAAe;gBAAC;kBAAAoD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5F,CAAC,eACNrE,OAAA;gBAAAiE,QAAA,gBACIjE,OAAA;kBAAM2D,SAAS,EAAC,eAAe;kBAAAM,QAAA,EAAC;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACrDrE,OAAA;kBAAK2D,SAAS,EAAC,eAAe;kBAAAM,QAAA,GAAC,QAAC,EAAC/D,IAAI,CAACsE,UAAU,CAACX,cAAc,CAAC,CAAC;gBAAA;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAGNrE,OAAA;YAAK2D,SAAS,EAAC,uCAAuC;YAAAM,QAAA,gBAClDjE,OAAA;cAAAiE,QAAA,gBACIjE,OAAA;gBAAO2D,SAAS,EAAC,YAAY;gBAAAM,QAAA,EAAC;cAAe;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACrDrE,OAAA;gBACIyE,IAAI,EAAC,MAAM;gBACXvC,IAAI,EAAC,gBAAgB;gBACrBC,KAAK,EAAE5B,QAAQ,CAACE,cAAe;gBAC/BiE,QAAQ,EAAE1C,iBAAkB;gBAC5B2B,SAAS,EAAC,YAAY;gBACtBgB,QAAQ;cAAA;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACX,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,eAENrE,OAAA;cAAAiE,QAAA,gBACIjE,OAAA;gBAAO2D,SAAS,EAAC,YAAY;gBAAAM,QAAA,EAAC;cAAoB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC1DrE,OAAA;gBACIyE,IAAI,EAAC,QAAQ;gBACbvC,IAAI,EAAC,iBAAiB;gBACtBC,KAAK,EAAE5B,QAAQ,CAACM,eAAgB;gBAChC6D,QAAQ,EAAE1C,iBAAkB;gBAC5B2B,SAAS,EAAC,YAAY;gBACtBiB,WAAW,EAAE1E,IAAI,CAACY,eAAgB;gBAClC+D,GAAG,EAAC,GAAG;gBACPC,IAAI,EAAC,MAAM;gBACXH,QAAQ;cAAA;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACX,CAAC,eACFrE,OAAA;gBAAG2D,SAAS,EAAC,4BAA4B;gBAAAM,QAAA,GAAC,0BACnB,EAAC/D,IAAI,CAACY,eAAe,CAAC+C,cAAc,CAAC,CAAC;cAAA;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1D,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAGNrE,OAAA;YAAAiE,QAAA,gBACIjE,OAAA;cAAO2D,SAAS,EAAC,YAAY;cAAAM,QAAA,EAAC;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACpDrE,OAAA;cACIkC,IAAI,EAAC,eAAe;cACpBC,KAAK,EAAE5B,QAAQ,CAACQ,aAAc;cAC9B2D,QAAQ,EAAE1C,iBAAkB;cAC5B2B,SAAS,EAAC,aAAa;cAAAM,QAAA,gBAEvBjE,OAAA;gBAAQmC,KAAK,EAAC,MAAM;gBAAA8B,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACrCrE,OAAA;gBAAQmC,KAAK,EAAC,eAAe;gBAAA8B,QAAA,EAAC;cAAgB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACvDrE,OAAA;gBAAQmC,KAAK,EAAC,QAAQ;gBAAA8B,QAAA,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,eAGNrE,OAAA;YAAAiE,QAAA,gBACIjE,OAAA;cAAO2D,SAAS,EAAC,YAAY;cAAAM,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3CrE,OAAA;cACIkC,IAAI,EAAC,OAAO;cACZC,KAAK,EAAE5B,QAAQ,CAACS,KAAM;cACtB0D,QAAQ,EAAE1C,iBAAkB;cAC5B2B,SAAS,EAAC,eAAe;cACzBoB,IAAI,EAAC,GAAG;cACRH,WAAW,EAAC;YAA2C;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1D,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAGNrE,OAAA;YAAK2D,SAAS,EAAC,kDAAkD;YAAAM,QAAA,gBAC7DjE,OAAA;cAAI2D,SAAS,EAAC,kCAAkC;cAAAM,QAAA,EAAC;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5ErE,OAAA;cAAK2D,SAAS,EAAC,mBAAmB;cAAAM,QAAA,gBAC9BjE,OAAA;gBAAK2D,SAAS,EAAC,sBAAsB;gBAAAM,QAAA,gBACjCjE,OAAA;kBAAAiE,QAAA,EAAM;gBAAqB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAClCrE,OAAA;kBAAM2D,SAAS,EAAC,aAAa;kBAAAM,QAAA,GAAC,QAAC,EAAC,CAAChD,YAAY,CAACH,eAAe,IAAI,CAAC,EAAE+C,cAAc,CAAC,CAAC;gBAAA;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3F,CAAC,eACNrE,OAAA;gBAAK2D,SAAS,EAAC,sBAAsB;gBAAAM,QAAA,gBACjCjE,OAAA;kBAAAiE,QAAA,EAAM;gBAAiB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC9BrE,OAAA;kBAAM2D,SAAS,EAAC,4BAA4B;kBAAAM,QAAA,GAAC,QAAC,EAAC,CAAChD,YAAY,CAACJ,eAAe,IAAI,CAAC,EAAEgD,cAAc,CAAC,CAAC;gBAAA;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1G,CAAC,eACNrE,OAAA;gBAAK2D,SAAS,EAAC,sBAAsB;gBAAAM,QAAA,gBACjCjE,OAAA;kBAAAiE,QAAA,EAAM;gBAAsB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACnCrE,OAAA;kBAAM2D,SAAS,EAAC,6BAA6B;kBAAAM,QAAA,GAAC,QAAC,EAAC,CAAChD,YAAY,CAACU,mBAAmB,IAAI,CAAC,EAAEkC,cAAc,CAAC,CAAC;gBAAA;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/G,CAAC,EACL,CAACpD,YAAY,CAACE,aAAa,IAAI,CAAC,IAAI,CAAC,iBAClCnB,OAAA;gBAAK2D,SAAS,EAAC,sBAAsB;gBAAAM,QAAA,gBACjCjE,OAAA;kBAAAiE,QAAA,EAAM;gBAAkB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC/BrE,OAAA;kBAAM2D,SAAS,EAAC,0BAA0B;kBAAAM,QAAA,GAAC,QAAC,EAAC,CAAChD,YAAY,CAACE,aAAa,IAAI,CAAC,EAAE0C,cAAc,CAAC,CAAC;gBAAA;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtG,CACR,EACA,CAACpD,YAAY,CAACY,WAAW,IAAI,CAAC,IAAI,CAAC,iBAChC7B,OAAA;gBAAK2D,SAAS,EAAC,sBAAsB;gBAAAM,QAAA,gBACjCjE,OAAA;kBAAAiE,QAAA,EAAM;gBAAa;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC1BrE,OAAA;kBAAM2D,SAAS,EAAC,2BAA2B;kBAAAM,QAAA,GAAC,QAAC,EAAC,CAAChD,YAAY,CAACY,WAAW,IAAI,CAAC,EAAEgC,cAAc,CAAC,CAAC;gBAAA;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrG,CACR,eACDrE,OAAA;gBAAI2D,SAAS,EAAC;cAAiB;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAClCrE,OAAA;gBAAK2D,SAAS,EAAC,sBAAsB;gBAAAM,QAAA,gBACjCjE,OAAA;kBAAAiE,QAAA,EAAM;gBAA2B;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACxCrE,OAAA;kBAAM2D,SAAS,EAAC,2BAA2B;kBAAAM,QAAA,GAAC,QAAC,EAAC,CAAChD,YAAY,CAACG,cAAc,IAAI,CAAC,EAAEyC,cAAc,CAAC,CAAC;gBAAA;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxG,CAAC,eACNrE,OAAA;gBAAK2D,SAAS,EAAC,sBAAsB;gBAAAM,QAAA,gBACjCjE,OAAA;kBAAAiE,QAAA,EAAM;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACpCrE,OAAA;kBAAM2D,SAAS,EAAC,2BAA2B;kBAAAM,QAAA,EAAEhD,YAAY,CAACI,eAAe,IAAI;gBAAC;kBAAA6C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrF,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,EAGL,CAACpD,YAAY,CAACE,aAAa,IAAI,CAAC,MAAM,CAAC,IAAI,CAACF,YAAY,CAACY,WAAW,IAAI,CAAC,MAAM,CAAC,iBAC7E7B,OAAA;YAAK2D,SAAS,EAAC,oDAAoD;YAAAM,QAAA,eAC/DjE,OAAA;cAAK2D,SAAS,EAAC,mBAAmB;cAAAM,QAAA,gBAC9BjE,OAAA;gBAAM2D,SAAS,EAAC,6BAA6B;gBAAAM,QAAA,EAAC;cAAC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACtDrE,OAAA;gBAAM2D,SAAS,EAAC,oCAAoC;gBAAAM,QAAA,EAAC;cAErD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CACR,EAEA,CAACpD,YAAY,CAACE,aAAa,IAAI,CAAC,IAAI,CAAC,iBAClCnB,OAAA;YAAK2D,SAAS,EAAC,sDAAsD;YAAAM,QAAA,eACjEjE,OAAA;cAAK2D,SAAS,EAAC,mBAAmB;cAAAM,QAAA,gBAC9BjE,OAAA;gBAAM2D,SAAS,EAAC,8BAA8B;gBAAAM,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACxDrE,OAAA;gBAAM2D,SAAS,EAAC,qCAAqC;gBAAAM,QAAA,GAAC,QACjD,EAAC,CAAChD,YAAY,CAACE,aAAa,IAAI,CAAC,EAAE0C,cAAc,CAAC,CAAC,EAAC,gCACzD;cAAA;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CACR,eAcDrE,OAAA;YAAK2D,SAAS,EAAC,0DAA0D;YAAAM,QAAA,gBACrEjE,OAAA;cACIyE,IAAI,EAAC,QAAQ;cACbd,SAAS,EAAC,iBAAiB;cAC3BW,OAAO,EAAEnE,OAAQ;cAAA8D,QAAA,EACpB;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTrE,OAAA;cACIyE,IAAI,EAAC,QAAQ;cACbd,SAAS,EAAC,iBAAiB;cAAAM,QAAA,GAC9B,uCACyB,EAAC1D,QAAQ,CAACM,eAAe,CAACgD,cAAc,CAAC,CAAC,EAAC,GACrE;YAAA;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAChE,EAAA,CAnVIJ,kBAAkB;AAAA+E,EAAA,GAAlB/E,kBAAkB;AAqVxB,eAAeA,kBAAkB;AAAC,IAAA+E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}